<% include ../layout/header %>
    <!--Left Side Starts-->
    <div class="fix-left-side left-side-menu">
        <!--Logo Area Starts-->
        <% include ../layout/logo-section %>
            <!--Logo Area Ends-->
            <!--Left side Menu Starts-->
            <% include ../layout/left-menu %>
                <!--Left Menu Ends-->
    </div>
    <!--Left Side Ends-->


    <!--Header Right Menu starts-->
    <% include ../layout/header-right-menu %>
        <!--Header Right Menu Ends-->

        </div>
        <!--Right Side Header Ends-->

        <!--Content Wrapper Starts-->
        <div class="content-wrapper">

            <!-- Drag and Drog Functionality Div Starts-->
            <div class="sortable">
                <div class="col-md-12">
                    <!--editable starts-->
                    <div class="panel">
                        <div class="panel-heading">
                            PROJECTED VS ACTUAL AMOUNT
                            <div class="clearfix add-new pull-right" id="dataTableButtons">

                            </div>

                        </div>

                        <div class="panel-body">
                            <div class="alert alert-danger fade in hidden">
                                <a href="#" class="close alert-close">&times;</a>
                                <strong>Error!</strong>
                                <span id="msg-div-error"></span>
                            </div>
                            <div class="alert alert-success fade in hidden">
                                <a href="#" class="close alert-close">&times;</a>
                                <strong>Success!</strong>
                                <span id="msg-div"></span>

                            </div>
                            <div class=" filter-form">
                                <div class="col-md-2">
                                    <form id="monthFilter" method="POST">
                                        <div class="form-group filter">
                                            <label for="exampleInputName2">Revenue for Month: </label>
                                            <br />
                                            <div class='input-group date' id="from-datepicker">
                                                <input type="text" name="from" id="from-date" readonly class="form-control" value="<%= fromDateInitial%>">

                                                <span class="input-group-addon">
                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                </span>

                                            </div>
                                        </div>
                                    </form>
                                </div>

                                <div class="col-md-2 ">
                                    <div class="form-group filter ">
                                        <label for="exampleInputEmail2 ">Client :</label>
                                        <br />
                                        <span id="filterByClient"></span>
                                    </div>
                                </div>

                            </div>

                            <div id="main">
                                <table class="table table-striped table-hover table-bordered display dataTable no-footer" id="amount_report">
                                    <thead>
                                        <tr role="row">
                                            <th class="sorting">Client </th>
                                            <th class="sorting">Currency </th>
                                            <th class="sorting">Last Month Actual Amount</th>
                                            <th class="sorting">Projected Amount</th>
                                            <th class="sorting"> Actual Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <% 
                                        if(dataToDisplay.length>0){
                                         dataToDisplay.forEach(function(clientData){%>
                                            <tr>
                                                <td>
                                                    <%=clientData.client_name %>
                                                </td>
                                                <td>
                                                    <%=clientData.currency %>
                                                </td>
                                                <td>
                                                    <%=clientData.lastMonthActualAmount %>
                                                </td>
                                                <td>
                                                    <%=clientData.projectedAmount %>
                                                </td>
                                                <td>
                                                    <%=clientData.actualAmount %>
                                                </td>
                                            </tr>
                                            <% }); 
                                        }else{%>
                                                <tr>
                                                    <td colspan="3">No Data Found.</td>
                                                </tr>
                                                <% } %>
                                    </tbody>
                                </table>
                            </div>

                            <div class="total-ammount-summary pull-right">
                                <h5>Total Amount By Currency</h5>
                                <table class="table table-striped table-hover table-bordered display dataTable no-footer" id="ccy-total">
                                    <thead>
                                        <tr role="row">
                                            <th class="sorting" >Currency </th>
                                            <th class="sorting">Last Month Actual Total </th>
                                            <th class="sorting">Projected Total </th>
                                            <th class="sorting">Actual Total </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
                <!--Editable Table Ends-->

            </div>
        </div>
        <!-- Drag and Drog Functionality Div Starts-->
        </div>
        <!--Content Wrapper Ends-->
        <% include ../elements/slab_price %>
            <script src="<%=assetsLocation%>/js/amount_report.js"></script>
            <% include ../layout/footer %>