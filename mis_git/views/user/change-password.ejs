<% include ../layout/header %>
    <div class="fix-left-side left-side-menu">
        <% include ../layout/logo-section %>
            <% include ../layout/left-menu %>
    </div>
    <% include ../layout/header-right-menu %>
        </div>
        <div class="content-wrapper">

            <div class="">
                <div class="col-md-12">
                    <div class="panel">



                        <div class="panel-heading">
                            Change Password
                        </div>

                        <div class="panel-body">
                            <div class="alert alert-danger fade in <%=(messages.errorMessage?'':'hidden')%>">
                                <a href="#" class="close alert-close">&times;</a>
                                <strong>Error!</strong>
                                <span id="msg-div-error">
                                    <%= messages.errorMessage %>
                                </span>
                            </div>
                            <form id="updatePassword" method="POST">
                                <div class="form-group">
                                    <label class="control-label" for="Email">Email</label>:
                                    <%=data.email%>
                                </div>
                                <div class="form-group">
                                    <label class="control-label" for="Password">Old Password</label>:
                                    <input class="valid validate[required]" id="old-password" name="old_password" value="" placeholder="Old Password"
                                        type="password">
                                </div>
                                <div class="form-group">
                                    <label class="control-label" for="Password">New Password</label>:
                                    <input class="valid validate[required, minSize[8]]" id="new-password" name="new_password" value=""
                                        placeholder="New Password" type="password">
                                </div>
                                <div class="form-group">
                                    <label class="control-label" for="Password">Confirm Password</label>:
                                    <input class="valid validate[required,equals[new-password]]" id="confirm-password" name="confirm_password"
                                        value="" placeholder="Confirm Password" type="password" data-errormessage="This field is required and value must match with New Password.">
                                </div>

                                <div class="form-group">
                                    <label class="control-label" for="Password">&nbsp;</label>
                                    <button id="reset" type="reset" class="btn btn-sm btn-danger">Reset</button>
                                    <button id="savePassword" name="Save" class="btn btn-success"> Save </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(function () {
                $('#updatePassword').validationEngine({ promptPosition: "topLeft", scroll: false });
                $(document).on('click', '#savePassword', function () {
                    if ($('#updatePassword').validationEngine('validate')) {
                        if ($('#new-password').val() != $('#confirm-password').val()) {
                            alert('New Password and Confirm Password are not same.');
                            return false;
                        } else {
                            $('#updatePassword').submit();
                        }
                    } else {
                        return false;
                    }
                });
            });
        </script>
        <% include ../layout/footer %>